<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import java.net.URL?>

<StackPane xmlns:fx="http://javafx.com/fxml" 
           fx:controller="com.ctrlaltquest.ui.controllers.ResetPasswordController"
           prefWidth="1280" prefHeight="720" styleClass="root">
    
    <stylesheets>
        <URL value="@/styles/auth.css" />
    </stylesheets>

    <Region style="-fx-background-color: rgba(13, 9, 21, 0.85);" />

    <VBox alignment="CENTER" spacing="30" maxWidth="500" maxHeight="600" styleClass="auth-panel">
        
        <VBox alignment="CENTER" spacing="10">
            <Label text="NUEVAS CREDENCIALES" styleClass="auth-title-hero" />
            <Label text="Ingresa el código enviado y tu nueva clave" 
                   style="-fx-text-fill: #a292b1; -fx-font-size: 14px; -fx-font-family: 'Runewood';" />
        </VBox>

        <VBox spacing="20" styleClass="input-group" maxWidth="400">
            <VBox spacing="8">
                <Label text="CÓDIGO DE VERIFICACIÓN" styleClass="input-label-runic-gold"/>
                <TextField fx:id="codeField" promptText="######" styleClass="custom-field" alignment="CENTER" />
            </VBox>

            <VBox spacing="8">
                <Label text="NUEVA CONTRASEÑA" styleClass="input-label-runic-gold"/>
                <PasswordField fx:id="newPasswordField" promptText="Mínimo 6 caracteres" styleClass="custom-field" />
            </VBox>

            <VBox spacing="8">
                <Label text="REPETIR CONTRASEÑA" styleClass="input-label-runic-gold"/>
                <PasswordField fx:id="confirmPasswordField" promptText="Confirmar nueva clave" styleClass="custom-field" />
            </VBox>
        </VBox>

        <VBox alignment="CENTER" spacing="15">
            <Button fx:id="btnReset" text="RESTAURAR ACCESO" onAction="#handleConfirmReset" 
                    styleClass="primary-button-hero" prefWidth="400" />
            
            <Button text="Cancelar y Volver" onAction="#handleCancel" 
                    styleClass="link-button-clean" focusTraversable="false" />
        </VBox>

        <VBox fx:id="loadingLayer" visible="false" alignment="CENTER" spacing="20" 
              style="-fx-background-color: rgba(26, 15, 38, 0.9); -fx-background-radius: 40;">
            <ProgressIndicator prefWidth="50" prefHeight="50" />
            <Label text="Actualizando Registros..." style="-fx-text-fill: #f7d27a; -fx-font-family: 'Runewood';" />
        </VBox>
    </VBox>
</StackPane>